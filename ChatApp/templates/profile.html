{% extends 'util/base.html' %} {% block title %}
<title>プロフィール</title>
{% endblock title %} {% block content %}

<body class="body">
  <!----- ヘッダー ----->
  <header class="header">
    <h1>プロフィール</h1>
    <form action="/chats" method="GET" class="back-button">
      <input type="image" src="{{ url_for('static', filename='img/left.png') }}" alt="戻る" class="header-image" />
    </form>
    <div class="deletebox-button">
      <input type="image" onclick="openModal()" src="{{ url_for('static', filename='img/delete.png') }}" alt="削除" class="header-image" />
    </div>
  </header>
  <!----- ヘッダー END ----->

  <!----- メイン ----->
  <main class="main">
    <div class="input-form">
      {% with messages = get_flashed_messages() %} {% if messages %}
      <div>
        {% for message in messages %}
        <h3>{{ message }}</h3>
        {% endfor %}
      </div>
      {% endif %} {% endwith %}

      <a href="/change_icon" class="footer-button">
        <div class="icon-wrap">
          <div class="icon">
            <img src="{{ icon_img }}" alt="アイコン画像" class="icon-img" />
          </div>
          <div class="camera-badge">
            <img src="{{ url_for('static', filename='img/camera-badge.png') }}" class="camera-icon" />
          </div>
        </div>
      </a>

      <div class="input-box-autu">
        <div class="font">ユーザー名</div>
        <a href="/change_uname" class="transitionplaceholder">
          <div class="search-box">
            <div class="text-box">
              <div class="placeholder">{{ current_user.user_name }}</div>
              <img src="{{ url_for('static', filename='img/arrow.png') }}" class="arrow" />
            </div>
          </div>
        </a>
      </div>

      <div class="input-box-autu">
        <div class="font">メールアドレス</div>
        <a href="/change_email" class="transitionplaceholder">
          <div class="search-box1">
            <div class="text-box">
              <div class="placeholder">{{ current_user.email }}</div>
              <img src="{{ url_for('static', filename='img/arrow.png') }}" class="arrow" />
            </div>
          </div>
        </a>
      </div>

      <div class="input-box-autu">
        <div class="font">パスワード</div>
        <a href="/change_password" class="transitionplaceholder">
          <div class="search-box2">
            <div class="text-box">
              <div class="placeholder">・・・・・・・・</div>
              <img src="{{ url_for('static', filename='img/arrow.png') }}" class="arrow" />
            </div>
          </div>
        </a>
      </div>
    </div>
  </main>
  <!-- メインEND -->

  <!-- モーダル -->
  <div id="myModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <img src="{{ url_for('static', filename='img/Delete-user.png') }}" class="js-userdele-img" alt="注意" />
      <div class="font">アカウントを削除しますか？</div>
      <!-- アカウント削除ボタン -->
      <form action="/delete_user" method="POST">
        <input type="submit" class="js-btn delete" value="はい" />
      </form>
      <!-- キャンセルボタン -->
      <button class="js-btn cancel" onclick="closeModal()">キャンセル</button>
    </div>
  </div>

  <script>
    function openModal() {
      document.getElementById("myModal").style.display = "flex";
    }
    function closeModal() {
      document.getElementById("myModal").style.display = "none";
    }

    // 背景クリックで閉じる
    window.onclick = function (event) {
      const modal = document.getElementById("myModal");
      if (event.target === modal) {
        closeModal();
      }
    };
  </script>
  <!-- ユーザー削除のJS関係　ここまで -->
  {% endblock content %}
</body>
